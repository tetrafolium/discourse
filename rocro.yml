inspecode:

  brakeman:
    thresholds: { num-issues: 125 }

  bundler-audit:
    thresholds: { num-issues: 12 }

  clang-format:
  - input:
    - app/assets/javascripts/
    #config-file: .clang-format   # (auto-detected)
    auto-fix: true
    thresholds: { num-issues: 870 }
  - ignore:
    - app/assets/javascripts/
    - node_modules/
    - vendor/
    - '**/*.min.js'
    #config-file: .clang-format   # (auto-detected)
    auto-fix: true
    thresholds: { num-issues: 320 }

  cpd:
  - input:  [ '**/*.rb' ]
    machine: { cpu: 0.75 }
    thresholds: { num-issues: 6 }
  - input:  [ '**/*.js' ]
    ignore: [ 'public/**/ace/mode-*',   # many huge clones
              'public/**/ace/worker-*', # many huge clones
              'vendor/**/moment-timezone-names-locale/' ] # many clones
    options: { --skip-lexical-errors: } # lexical errors in app/**/*.js
    machine: { cpu: 0.75 }
    thresholds: { num-issues: 184 }

  ### ESLint couldn't find the config "eslint-config-discourse" to extend from.
  ### Please check that the name of the config is correct.
  ### The config "eslint-config-discourse" was referenced from the config file in ".eslintrc".
  ### -> tractrix/codelift#1790
  eslint:
    auto-fix: false
    thresholds: { num-issues: 39 }

  flow:
    thresholds: { num-issues: 0 }

  fossology:
    thresholds: { num-issues: 66 }

  grep:
    thresholds: { num-issues: 152 }

  jscpd:
    thresholds: { num-issues: 771 }   # 771 = 61 + 474 + 236
      ### external tool found 771 issues
      ### plugin reports found 236 issues
      ### -> tractrix/codelift#1785

  jshint:
  - input:
    - app/assets/javascripts/
    ignore:
    - app/assets/javascripts/discourse/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 572 }
  - input:
    - app/assets/javascripts/discourse/
    ignore:
    - app/assets/javascripts/discourse/components/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 944 }
  - input:
    - app/assets/javascripts/discourse/components/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 576 }
  - input:
    - public/javascripts/ace/
    ignore:
    - public/javascripts/ace/mode-*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 587 }
  - input:
    - public/javascripts/ace/mode-[a-l]*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 568 }
  - input:
    - public/javascripts/ace/mode-[m-z]*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 577 }
  - ignore:
    - app/assets/javascripts/
    - public/javascripts/ace/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 754 }

  misspell:
    auto-fix: true
    thresholds: { num-issues: 225 }

  ### npm ERR! code EAUDITNOLOCK
  ### npm ERR! audit Neither npm-shrinkwrap.json nor package-lock.json found: Cannot audit a project without a lockfile
  ### npm ERR! audit Try creating one first with: npm i --package-lock-only
  ### -> tractrix/codelift#1782
  npm-audit:
    thresholds: { num-issues: 999 }

  npm-test:
    thresholds: { num-issues: 0 }

  phpcs:
    options:
      --standard: PEAR
      --exclude:
      - Generic.Commenting.DocComment
      - Generic.ControlStructures.InlineControlStructure
      - Generic.WhiteSpace.DisallowTabIndent
      - PEAR.ControlStructures.MultiLineCondition
      - PEAR.Functions.FunctionDeclaration
      - PEAR.Functions.FunctionCallSignature
      - PEAR.WhiteSpace.ScopeIndent
    auto-fix: true
    thresholds: { num-issues: 504 }

  ### Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
  ### -> tractrix/codelift#1754
  pmd:
    thresholds: { num-issues: 999 }

  prettier:
    auto-fix: true
    thresholds: { num-issues: 922 }

  rails_best_practices:
    thresholds: { num-issues: 406 }

  reek:
    config-file: inspecode-reek.yml
    thresholds: { num-issues: 335 }

  rubocop:
    auto-fix: false
    thresholds: { num-issues: 0 }

  unused:
    thresholds: { num-issues: 29 }
