inspecode:

  brakeman:
    thresholds: { num-issues: 127 }

  bundler-audit:
    thresholds: { num-issues: 17 }

  clang-format:
  - input:
    - app/assets/javascripts/
    #config-file: .clang-format   # (auto-detected)
    auto-fix: true
    thresholds: { num-issues: 870 }
  - ignore:
    - app/assets/javascripts/
    - node_modules/
    - vendor/
    - '**/*.min.js'
    #config-file: .clang-format   # (auto-detected)
    auto-fix: true
    thresholds: { num-issues: 320 }

  cpd:
  - input:  [ '**/*.rb' ]
    machine: { cpu: 0.75 }
    thresholds: { num-issues: 6 }
  - input:  [ '**/*.js' ]
    ignore: [ 'public/**/ace/mode-*',   # many huge clones
              'public/**/ace/worker-*', # many huge clones
              'vendor/**/moment-timezone-names-locale/' ] # many clones
    options: { --skip-lexical-errors: } # lexical errors in app/**/*.js
    machine: { cpu: 0.75 }
    thresholds: { num-issues: 184 }

  eslint:
    auto-fix: false
    thresholds: { num-issues: 39 }

  flow:
    thresholds: { num-issues: 0 }   # found no input files

  fossology:
    thresholds: { num-issues: 74 }

  grep:
    thresholds: { num-issues: 152 }

  jscpd:
    thresholds: { num-issues: 747 }

  jshint:
  - input:
    - app/assets/javascripts/
    ignore:
    - app/assets/javascripts/discourse/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 572 }
  - input:
    - app/assets/javascripts/discourse/
    ignore:
    - app/assets/javascripts/discourse/components/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 944 }
  - input:
    - app/assets/javascripts/discourse/components/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 576 }
  - input:
    - public/javascripts/ace/
    ignore:
    - public/javascripts/ace/mode-*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 587 }
  - input:
    - public/javascripts/ace/mode-[a-l]*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 568 }
  - input:
    - public/javascripts/ace/mode-[m-z]*
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 577 }
  - ignore:
    - app/assets/javascripts/
    - public/javascripts/ace/
    config-file: inspecode-jshintrc
    thresholds: { num-issues: 754 }

  misspell:
    auto-fix: true
    thresholds: { num-issues: 225 }

  ### npm ERR! code EAUDITNOLOCK
  ### npm ERR! audit Neither npm-shrinkwrap.json nor package-lock.json found: Cannot audit a project without a lockfile
  ### npm ERR! audit Try creating one first with: npm i --package-lock-only
  ### -> tractrix/codelift#1782
  npm-audit:
    thresholds: { num-issues: 999 }

  npm-test:
    thresholds: { num-issues: 0 }   # found no input files

  phpcs:
    options:
      --standard: PEAR
      --exclude:
      - Generic.Commenting.DocComment
      - Generic.ControlStructures.InlineControlStructure
      - Generic.WhiteSpace.DisallowTabIndent
      - PEAR.ControlStructures.MultiLineCondition
      - PEAR.Functions.FunctionDeclaration
      - PEAR.Functions.FunctionCallSignature
      - PEAR.WhiteSpace.ScopeIndent
    auto-fix: true
    thresholds: { num-issues: 505 }

  ### Exception in thread "main" java.lang.OutOfMemoryError: Java heap space
  ### -> tractrix/codelift#1754
  pmd:
  - machine: { cpu: 1.0 }
    thresholds: { num-issues: 999 }
  # - machine: { cpu: 1.1 }   # at Enterprise-AWS ... cpu resource too large: 1100m (must be <= 1)
  #   thresholds: { num-issues: 999 }

  ### (codelift-plugins#1789)
  ### FATAL ERROR: CALL_AND_RETRY_LAST Allocation failed - JavaScript heap out of memory
  ###   - occurred since 2021-01-29, commit 0224971
  ###   - not occurred until 2020-08-31, commit 48ad88f
  prettier:
    # auto-fix: true          # disabled ... avoid skipping subsequent tasks
    thresholds: { num-issues: 922 }

  rails_best_practices:
    thresholds: { num-issues: 410 }

  reek:
    config-file: inspecode-reek.yml
    thresholds: { num-issues: 335 }

  rubocop:
    auto-fix: false
    thresholds: { num-issues: 0 }

  unused:
    thresholds: { num-issues: 29 }
